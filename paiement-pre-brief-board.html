<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Paiement GhostOps Pré-brief Board – Note board-ready confidentielle</title>
    <meta
      name="description"
      content="Paiement sécurisé du GhostOps Pré-brief Board (Niveau 3) – note de gouvernance board-ready : risques, options, arbitrages, plan de stabilisation."
    />
    <link rel="canonical" href="https://www.ghostops.tech/paiement-pre-brief-board.html" />

    <!-- Tailwind CDN (OK en prototype, à remplacer plus tard) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      .btn-disabled { opacity: .6; cursor: not-allowed; }
    </style>
  </head>

  <body class="min-h-screen bg-black text-white">
    <!-- (Optionnel) votre nav -->
    <header class="px-6 py-4 border-b border-white/10">
      <div class="max-w-5xl mx-auto flex items-center justify-between">
        <a href="/" class="font-semibold tracking-wide">GHOST OPS</a>
        <nav class="text-sm text-white/80 space-x-4">
          <a href="/index.html" class="hover:text-white">Accueil</a>
          <a href="/expertise.html" class="hover:text-white">Expertise</a>
          <a href="/qui-sommes-nous.html" class="hover:text-white">Qui sommes-nous ?</a>
          <a href="/contact.html" class="hover:text-white">Contact confidentiel</a>
        </nav>
      </div>
    </header>

    <main class="px-6 py-10">
      <div class="max-w-3xl mx-auto">
        <p class="text-sm text-white/70 mb-2">GhostOps IA – Niveau 3 · Pré-brief Board</p>
        <h1 class="text-3xl font-semibold tracking-tight mb-4">
          Paiement sécurisé – GhostOps Pré-brief Board
        </h1>

        <p class="text-white/80 leading-relaxed mb-6">
          Vous êtes sur la page de paiement sécurisée du <a class="underline" href="/pre-brief-board.html">GhostOps Pré-brief Board</a>.
          Ce format correspond à une note de gouvernance “board-ready”, structurée et exploitable en conseil d’administration
          ou comité d’audit.
        </p>

        <!-- Bandeaux dynamiques -->
        <div id="bannerCanceled" class="hidden mb-6 rounded-2xl border border-amber-400/30 bg-amber-400/10 p-4">
          <p class="font-medium">Paiement annulé.</p>
          <p class="text-white/80 text-sm mt-1">
            Aucune somme n’a été débitée. Vous pouvez relancer le paiement ou revenir à la page
            <a class="underline" href="/pre-brief-board.html">Pré-brief Board</a>.
          </p>
        </div>

        <div id="bannerError" class="hidden mb-6 rounded-2xl border border-red-400/30 bg-red-400/10 p-4">
          <p class="font-medium">Impossible de démarrer le paiement.</p>
          <p id="bannerErrorText" class="text-white/80 text-sm mt-1"></p>
        </div>

        <h2 class="text-xl font-semibold mt-8 mb-3">Ce que couvre le GhostOps Pré-brief Board</h2>
        <ul class="list-disc pl-6 text-white/80 space-y-2">
          <li>Une note structurée “board-ready” : contexte, enjeux, risques, options.</li>
          <li>Un document opposable en interne (board, comité d’audit) si nécessaire.</li>
          <li>Un aller-retour d’ajustement (dans la limite du périmètre validé).</li>
          <li>Confidentialité totale.</li>
        </ul>

        <p class="text-white/70 mt-4">
          Le Pré-brief Board peut s’appuyer sur un Diagnostic IA et/ou un Studio Scénarios, mais peut aussi être activé
          à partir d’éléments internes existants.
        </p>

        <h2 class="text-xl font-semibold mt-10 mb-3">Honoraire de référence & paiement sécurisé</h2>
        <div class="rounded-2xl border border-white/10 bg-white/5 p-5">
          <div class="flex items-baseline justify-between gap-4">
            <div>
              <p class="font-medium">GhostOps Pré-brief Board (Niveau 3)</p>
              <p class="text-sm text-white/70">Paiement traité via Stripe. Redirection sécurisée.</p>
            </div>
            <div class="text-right">
              <p class="text-2xl font-semibold">2 990 € TTC</p>
              <p class="text-xs text-white/50">Forfait de référence</p>
            </div>
          </div>

          <button
            id="payBtn"
            class="mt-5 w-full rounded-xl bg-white text-black font-semibold py-3 hover:opacity-90 transition"
          >
            Procéder au paiement sécurisé du Pré-brief Board
          </button>

          <p class="text-xs text-white/60 mt-3">
            Aucune information de carte bancaire n’est stockée sur le site GhostOps : tout est traité par Stripe.
          </p>
        </div>

        <h2 class="text-xl font-semibold mt-10 mb-3">Un doute avant de valider le paiement ?</h2>
        <p class="text-white/80 mb-4">
          Si vous avez la moindre incertitude sur le cadrage du dossier, contactez GhostOps en amont.
        </p>
        <a
          class="inline-flex items-center rounded-xl border border-white/20 px-4 py-2 hover:bg-white/5 transition"
          href="/contact.html"
        >
          Poser une question avant de payer
        </a>
      </div>
    </main>

    <footer class="px-6 py-8 border-t border-white/10 text-white/60 text-sm">
      <div class="max-w-5xl mx-auto flex flex-wrap items-center justify-between gap-3">
        <p>© GhostOps – Tous droits réservés.</p>
        <div class="space-x-4">
          <a class="hover:text-white" href="/index.html">Accueil</a>
          <a class="hover:text-white" href="/expertise.html">Expertise</a>
          <a class="hover:text-white" href="/qui-sommes-nous.html">Qui sommes-nous ?</a>
          <a class="hover:text-white" href="/contact.html">Contact</a>
          <a class="hover:text-white" href="/mentions-legales.html">Mentions légales & confidentialité</a>
        </div>
      </div>
    </footer>

    <script>
      // Affiche le bandeau "annulé" uniquement si canceled=1
      (function () {
        const params = new URLSearchParams(window.location.search);
        if (params.get("canceled") === "1") {
          document.getElementById("bannerCanceled").classList.remove("hidden");
        }
      })();

      function setError(msg) {
        const box = document.getElementById("bannerError");
        const txt = document.getElementById("bannerErrorText");
        txt.textContent = msg || "Erreur inconnue.";
        box.classList.remove("hidden");
      }

      async function startCheckout() {
        const btn = document.getElementById("payBtn");
        btn.classList.add("btn-disabled");
        btn.disabled = true;

        try {
          const r = await fetch("/api/ghostops-pre-brief-board-checkout", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({}),
          });

          const data = await r.json().catch(() => ({}));

          if (!r.ok || !data?.url) {
            console.error("Checkout API error:", r.status, data);
            setError(data?.debug || data?.error || ("Erreur API (" + r.status + ")."));
            btn.disabled = false;
            btn.classList.remove("btn-disabled");
            return;
          }

          window.location.href = data.url;
        } catch (e) {
          console.error(e);
          setError("Erreur réseau. Veuillez réessayer.");
          btn.disabled = false;
          btn.classList.remove("btn-disabled");
        }
      }

      document.getElementById("payBtn").addEventListener("click", startCheckout);
    </script>
  </body>
</html>
