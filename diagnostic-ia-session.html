<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>GhostOps Diagnostic IA – Session 90 minutes</title>
    <meta name="description" content="Espace de travail GhostOps Diagnostic IA – 90 minutes, réservé aux dirigeants et décideurs ayant validé le paiement. Structuration de la situation, lecture IA et premières options de lecture tactique." />

    <meta name="robots" content="noindex, nofollow" />
    <link rel="canonical" href="https://www.ghostops.tech/diagnostic-ia-session.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="GhostOps Diagnostic IA – Session 90 minutes" />
    <meta property="og:description" content="Session Diagnostic IA GhostOps : espace de travail confidentiel pour structurer votre situation et obtenir une première lecture IA à haute valeur décisionnelle." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.ghostops.tech/diagnostic-ia-session.html" />
    <meta property="og:image" content="https://www.ghostops.tech/assets/ghostops-opengraph.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="GhostOps Diagnostic IA – Session 90 minutes" />
    <meta name="twitter:description" content="Espace de travail confidentiel réservé aux sessions Diagnostic IA GhostOps." />
    <meta name="twitter:image" content="https://www.ghostops.tech/assets/ghostops-opengraph.jpg" />

    <!-- Fonts & Tailwind -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: { extend: { fontFamily: { sans: ['Inter','sans-serif'] } } }
      };
    </script>

    <style>
      body::before {
        content: "";
        background: url('/assets/background-ghostops.jpg') no-repeat center center fixed;
        background-color: #0f172a;
        background-size: cover;
        animation: bgPulse 10s ease-in-out infinite alternate;
        position: fixed; inset: 0; opacity: 0.25; z-index: -1;
        transition: opacity .4s ease;
      }
      @keyframes bgPulse {
        0% { filter: brightness(1) contrast(1); }
        100% { filter: brightness(1.05) contrast(1.05); }
      }
      .text-shadow { text-shadow: 1px 1px 4px rgba(0,0,0,.6); }
      html { scroll-behavior: smooth; }
      header, main, section, footer { position: relative; z-index: 1; }
    </style>
  </head>

  <body class="bg-gray-900 text-white font-sans leading-relaxed">
    <!-- HEADER -->
    <header class="w-full px-6 md:px-16 py-4 flex items-center justify-between">
      <a href="/index.html" class="text-sm font-semibold tracking-[.25em] text-gray-200 hover:text-white uppercase">
        GHOST<span class="text-gray-400">OPS</span>
      </a>
      <nav class="flex items-center gap-4 text-xs md:text-sm">
        <a href="/index.html" class="text-gray-300 hover:text-white">Accueil</a>
        <a href="/expertise.html" class="text-gray-300 hover:text-white">Expertise</a>
        <a href="/qui-sommes-nous.html" class="text-gray-300 hover:text-white">Qui sommes-nous&nbsp;?</a>
        <a href="/contact.html"
           class="px-3 py-1 border border-gray-400 rounded-full hover:bg-gray-100 hover:text-black transition">
          Contact confidentiel
        </a>
      </nav>
    </header>

    <main class="px-6 md:px-24 pb-24">
      <!-- BLOC SI PAIEMENT NON DÉTECTÉ -->
      <section id="diagnostic-not-paid"
               class="hidden max-w-3xl mx-auto mt-10 mb-10">
        <div class="bg-red-900/40 border border-red-500/70 rounded-2xl p-6 md:p-8">
          <h1 class="text-2xl md:text-3xl font-bold mb-3 text-white text-shadow">
            Accès réservé – GhostOps Diagnostic IA
          </h1>
          <p class="text-gray-200 text-sm md:text-base mb-3">
            Cette page est réservée aux dirigeants, boards ou directions ayant validé un
            <span class="font-semibold">Diagnostic IA GhostOps – 90&nbsp;minutes</span> via le module de paiement sécurisé.
          </p>
          <p class="text-gray-300 text-sm md:text-base mb-4">
            Si vous pensez être arrivé ici par erreur, vous pouvez revenir à la page de présentation du format
            ou nous contacter en toute confidentialité.
          </p>
          <div class="flex flex-col sm:flex-row gap-3 mt-4">
            <a href="/diagnostic-ia.html"
               class="inline-block px-5 py-2 text-xs md:text-sm border border-white rounded-md hover:bg-white hover:text-black transition text-center">
              Revenir à la page Diagnostic IA
            </a>
            <a href="/contact.html"
               class="inline-block px-5 py-2 text-xs md:text-sm border border-gray-400 rounded-md hover:bg-gray-100 hover:text-black transition text-center">
              Contacter GhostOps
            </a>
          </div>
          <p class="text-gray-500 text-[11px] mt-4">
            Si vous venez de procéder au paiement, vérifiez que vous utilisez bien le lien complet fourni
            en fin de parcours de paiement. En cas de doute, envoyez-nous un message via la page contact.
          </p>
        </div>
      </section>

      <!-- BLOC SI PAIEMENT OK -->
      <section id="diagnostic-paid"
               class="hidden max-w-5xl mx-auto mt-10 mb-10">
        <!-- Bandeau de confirmation -->
        <div class="bg-emerald-900/40 border border-emerald-500/70 rounded-2xl p-4 mb-6">
          <p class="text-xs md:text-sm text-emerald-100">
            Paiement <span class="font-semibold">GhostOps Diagnostic IA – 90&nbsp;minutes</span> confirmé.<br/>
            Vous êtes dans l’espace IA dédié au Niveau&nbsp;1 – Diagnostic IA. Les échanges qui suivent servent à
            préparer une <span class="font-semibold">note structurée</span> de votre situation en plusieurs blocs lisibles.
          </p>
        </div>

        <!-- Intro -->
        <header class="mb-8">
          <p class="text-xs uppercase tracking-[.25em] text-gray-400 mb-3">
            GhostOps IA · Diagnostic – Espace de travail 90&nbsp;minutes
          </p>
          <h1 class="text-2xl md:text-3xl font-bold mb-4 text-white text-shadow">
            Session Diagnostic IA – structurer la lecture de votre situation
          </h1>
          <p class="text-gray-200 text-sm md:text-base mb-3 max-w-3xl">
            Vous avez activé un <span class="font-semibold">Diagnostic IA GhostOps – 90&nbsp;minutes</span>.
            L’objectif de cette session est de clarifier votre contexte, de mettre en lumière les risques humains,
            narratifs et de gouvernance, et d’ouvrir <span class="font-semibold">2 à 3 options de lecture</span>
            cohérentes avec vos enjeux.
          </p>
          <p class="text-gray-300 text-sm md:text-base max-w-3xl mb-3">
            La réponse IA qui vous sera fournie est structurée comme une note courte, organisée autour de&nbsp;:
          </p>
          <ul class="list-disc list-inside text-gray-300 text-sm md:text-base max-w-3xl space-y-1">
            <li>un résumé exécutif&nbsp;;</li>
            <li>une reformulation structurée de la situation&nbsp;;</li>
            <li>une cartographie des risques principaux&nbsp;;</li>
            <li>2 à 3 options de lecture possibles&nbsp;;</li>
            <li>des points aveugles et questions à clarifier, ainsi que les suites possibles (Studio Scénarios, Pré-brief Board, ou autre).</li>
          </ul>
          <p class="text-gray-400 text-xs md:text-sm max-w-3xl mt-3">
            GhostOps utilise l’IA comme instrument de lecture et de simulation. Le Diagnostic IA ne se substitue
            pas à une mission GhostOps complète&nbsp;: il vous fournit une grille de lecture exploitable pour décider
            si et comment aller plus loin.
          </p>
        </header>

        <!-- Étape 1 : préparer les éléments -->
        <section class="mb-8">
          <div class="bg-gray-800/80 rounded-2xl p-6 md:p-8">
            <h2 class="text-xl md:text-2xl font-semibold mb-3 text-white text-shadow">
              Étape&nbsp;1 – Poser les éléments de contexte
            </h2>
            <p class="text-gray-300 text-sm md:text-base mb-4 max-w-3xl">
              Le Diagnostic IA gagne en précision si vous structurez quelques éléments avant de lancer la première lecture.
              Vous pouvez vous appuyer sur la trame suivante (sans obligation de tout remplir)&nbsp;:
            </p>
            <ul class="list-disc list-inside text-gray-300 text-sm md:text-base space-y-2 max-w-3xl">
              <li>
                <span class="font-semibold">Périmètre concerné</span> (groupe / filiale / site / fonction, sans noms
                si vous préférez rester à un niveau anonymisé).
              </li>
              <li>
                <span class="font-semibold">Situation actuelle</span> : faits observables, tensions, décisions en suspens,
                signaux faibles qui vous inquiètent.
              </li>
              <li>
                <span class="font-semibold">Acteurs et lignes de force</span> : qui détient réellement le levier&nbsp;?
                Qui freine, qui accélère, qui est exposé publiquement&nbsp;?
              </li>
              <li>
                <span class="font-semibold">Ce que vous cherchez à éviter</span> : rupture de mandat, crise sociale,
                conflit de gouvernance, fuite presse, perte d’un site ou d’un périmètre stratégique, etc.
              </li>
              <li>
                <span class="font-semibold">Horizon de décision</span> : dates clés (board, comité, AG, échéance sociale
                ou réglementaire…).
              </li>
            </ul>
            <p class="text-gray-400 text-xs md:text-sm mt-4 max-w-3xl">
              Vous pouvez saisir directement ces éléments dans le module IA ci-dessous, ou en donner une synthèse
              plus courte si certaines informations doivent rester strictement internes.
            </p>
          </div>
        </section>

        <!-- Étape 2 : workspace IA -->
        <section>
          <div class="bg-gray-900/80 border border-gray-700 rounded-2xl p-6 md:p-8">
            <h2 class="text-xl md:text-2xl font-semibold mb-3 text-white text-shadow">
              Étape&nbsp;2 – Lecture initiale avec GhostOps IA – Diagnostic
            </h2>
            <p class="text-gray-300 text-sm md:text-base mb-4 max-w-3xl">
              Le module ci-dessous permet une <span class="font-semibold">lecture IA structurée</span> de votre situation&nbsp;:
              clarification des enjeux, identification des principaux risques (humains, narratifs, de gouvernance)
              et ouverture de quelques angles de lecture possibles.
            </p>
            <p class="text-gray-400 text-xs md:text-sm mb-4 max-w-3xl">
              La réponse est générée sous forme de note structurée, avec&nbsp;:
              un résumé exécutif, une reformulation de la situation, une cartographie de risques, des options de lecture,
              et des questions structurantes pour la suite. Il ne s’agit ni d’un plan d’exécution complet, ni d’un avis juridique.
            </p>

            <!-- Zone d'échanges IA -->
            <div class="bg-gray-950/80 rounded-xl border border-gray-700 max-h-[360px] flex flex-col">
              <!-- Messages -->
              <div id="diagnostic-chat-messages"
                   class="flex-1 px-4 py-3 space-y-3 overflow-y-auto text-xs md:text-sm">
                <div class="text-gray-300 text-xs md:text-[13px]">
                  <span class="font-semibold">GhostOps IA – Diagnostic&nbsp;:</span>
                  <span>
                    Vous pouvez me décrire votre situation en quelques paragraphes&nbsp;:<br /><br />
                    – périmètre (groupe, filiale, site, fonction),<br />
                    – ce qui se passe concrètement (faits, blocages, signaux faibles),<br />
                    – les acteurs qui comptent réellement,<br />
                    – ce que vous cherchez surtout à éviter,<br />
                    – et les échéances qui vous préoccupent le plus.<br /><br />
                    À partir de votre description, je produirai une note structurée comprenant&nbsp;:<br />
                    1) un résumé exécutif,<br />
                    2) une reformulation structurée de la situation,<br />
                    3) une cartographie des principaux risques humains / narratifs / de gouvernance,<br />
                    4) 2 à 3 options de lecture possibles,<br />
                    5) des points aveugles et questions à clarifier, ainsi que les suites envisageables dans le cadre GhostOps IA.<br /><br />
                    Vous pouvez rester à un niveau anonymisé (rôles, fonctions, périmètres) sans citer de noms complets.
                  </span>
                </div>
              </div>

              <!-- Formulaire -->
              <form id="diagnostic-chat-form"
                    class="border-t border-gray-800 px-3 py-2 flex items-center gap-2">
                <textarea id="diagnostic-chat-input"
                          class="flex-1 text-xs bg-gray-900 text-gray-100 border border-gray-700 rounded-md px-2 py-1 resize-none focus:outline-none focus:border-gray-400"
                          rows="3"
                          placeholder="Décrivez ici votre situation (contexte, acteurs, risques, échéances)…"></textarea>
                <button type="submit"
                        class="text-xs px-3 py-2 bg-white text-black font-semibold rounded-md hover:bg-gray-200">
                  Envoyer pour diagnostic
                </button>
              </form>
            </div>

            <p class="text-gray-500 text-[11px] mt-3 max-w-3xl">
              Ce module IA ne remplace pas un échange direct. Si nécessaire, des clarifications complémentaires pourront être réalisées
              dans le cadre du périmètre convenu, ou via une activation ultérieure du Studio Scénarios ou d’une intervention GhostOps.
            </p>
          </div>
        </section>
      </section>
    </main>

    <footer class="w-full px-6 md:px-24 pb-8 mt-8 text-xs text-gray-400">
      <div class="max-w-5xl mx-auto flex flex-col md:flex-row md:items-center md:justify-between gap-2">
        <p>© GhostOps – Tous droits réservés.</p>
        <nav class="flex flex-wrap items-center gap-3">
          <a href="/" class="hover:underline">Accueil</a>
          <a href="/expertise.html" class="hover:underline">Expertise</a>
          <a href="/qui-sommes-nous.html" class="hover:underline">Qui sommes-nous&nbsp;?</a>
          <a href="/contact.html" class="hover:underline">Contact</a>
          <a href="/mentions-legales.html" class="hover:underline">
            Mentions légales &amp; confidentialité
          </a>
        </nav>
      </div>
    </footer>

    <!-- Script d'activation (paid / non paid) + module IA -->
    <script>
      (function () {
        const params = new URLSearchParams(window.location.search);
        const paid   = params.get('paid');

        const paidBlock    = document.getElementById('diagnostic-paid');
        const notPaidBlock = document.getElementById('diagnostic-not-paid');

        if (paid === '1') {
          if (paidBlock) paidBlock.classList.remove('hidden');
        } else {
          if (notPaidBlock) notPaidBlock.classList.remove('hidden');
        }

        // Module IA – Diagnostic
        const form     = document.getElementById('diagnostic-chat-form');
        const input    = document.getElementById('diagnostic-chat-input');
        const messages = document.getElementById('diagnostic-chat-messages');

        if (!form || !input || !messages) return;

        let isTyping = false;

        function scrollToBottom() {
          messages.scrollTop = messages.scrollHeight;
        }

        function addMessage(sender, text) {
          const wrapper = document.createElement('div');
          wrapper.className = sender === 'user'
            ? 'mb-2 text-right'
            : 'mb-2 text-left';

          const bubble = document.createElement('div');
          bubble.className = sender === 'user'
            ? 'inline-block bg-blue-500 text-white text-xs md:text-sm px-3 py-2 rounded-lg'
            : 'inline-block bg-gray-800 text-gray-100 text-xs md:text-sm px-3 py-2 rounded-lg';

          bubble.textContent = text;
          wrapper.appendChild(bubble);
          messages.appendChild(wrapper);
          scrollToBottom();
          return { wrapper, bubble };
        }

        // Effet "machine à écrire" pour les réponses IA
        function addBotMessageTypewriter(text) {
          const { wrapper, bubble } = addMessage('bot', '');
          let index = 0;
          isTyping = true;

          function step() {
            if (index < text.length) {
              bubble.textContent += text.charAt(index);
              index += 1;
              scrollToBottom();
              setTimeout(step, 15); // vitesse d’écriture
            } else {
              isTyping = false;
            }
          }

          step();
        }

        async function sendMessage() {
          const userMessage = (input.value || '').trim();
          if (!userMessage || isTyping) return;

          addMessage('user', userMessage);
          input.value = '';

          const waiting = addMessage('bot', 'Diagnostic IA en cours…');

          try {
            const payload = {
              description: userMessage,
              message: userMessage,
              contexte: '',
              enjeu: '',
              mode: 'diagnostic-ia-session-v1'
            };

            const response = await fetch('/api/ghostops-diagnostic-ia', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(payload)
            });

            let data = {};
            try {
              data = await response.json();
            } catch (_) {
              // réponse non JSON
            }

            if (waiting && waiting.wrapper && waiting.wrapper.parentNode) {
              waiting.wrapper.parentNode.removeChild(waiting.wrapper);
            }

            if (!response.ok || !data.reply) {
              const errText = data.error || 'Une erreur est survenue lors du Diagnostic IA. Veuillez réessayer.';
              addMessage('bot', errText);
              return;
            }

            addBotMessageTypewriter(data.reply);
          } catch (err) {
            console.error('Erreur lors de l’appel /api/ghostops-diagnostic-ia :', err);
            if (waiting && waiting.wrapper && waiting.wrapper.parentNode) {
              waiting.wrapper.parentNode.removeChild(waiting.wrapper);
            }
            addMessage('bot', 'Erreur de connexion à GhostOps IA. Veuillez réessayer ultérieurement ou utiliser la page contact.');
          }
        }

        form.addEventListener('submit', (e) => {
          e.preventDefault();
          sendMessage();
        });

        input.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
          }
        });
      })();
    </script>
  </body>
</html>
